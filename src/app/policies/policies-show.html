<loading-anim></loading-anim>

<div class="page-header">
  <ol class="breadcrumb">
    <li>
      <a ui-sref="main.home">
        Rules Engine
      </a>
    </li>
    <li>
      <a ui-sref="main.policies.index">
        Policies
      </a>
    </li>
    <li class="active">
      {{ policy.id }}
    </li>
  </ol>
  <div class="pull-right">
    <div class="btn-toolbar">
      <div class="btn-group">
        <a role="button" class="btn btn-default" ng-click="duplicatePolicy()">
          <span class="fa fa-copy"></span>
          Duplicate
        </a>
         <a role="button" class="btn btn-default" data-toggle="modal" data-target="#confirmModal"
            ng-if="!policy.is_archived">
          <span class="fa fa-file-archive-o"></span>
          Archive
        </a>
      </div>
      <div class="btn-group" ng-if="!policy.is_archived">
        <a role="button" class="btn btn-primary" ui-sref="main.deploy_requests.create.raw({ id: policy.id })">
          <span class="fa fa-cloud-upload"></span>
          Deploy Request
        </a>
      </div>
    </div>
  </div>
  <h2>
    {{ policy.name }}
    &nbsp;
  </h2>
</div>

<alert-msg></alert-msg>
<confirm-dialog title="Policy" items="policy"></confirm-dialog>

<ul class="nav nav-tabs" style="margin-bottom:20px;">
  <li ui-sref-active="active">
    <a ui-sref="main.policies.show.rulebuilder">
      <span class="fa fa-list-alt"></span>
      Rule Builder
    </a>
  </li>
  <li ui-sref-active="active">
    <a ui-sref="main.policies.show.raw">
      <span class="fa fa-file-code-o"></span>
      View Raw
    </a>
  </li>
</ul>

<ui-view></ui-view>

<!-- TODO: don't think this is being used is it? -->
<ng-include src="'/rules/policies/promote-modal.html'"></ng-include>

